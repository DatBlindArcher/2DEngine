package Snake;

import java.awt.Color;
import java.awt.event.KeyEvent;

import game.engine.*;

public class Snake extends SquareCollider
{
	public void update()
	{
		super.update();

		if(Input.getKeyDown(KeyEvent.VK_W))
		{
			gameObject.transform.position.y -= 32f;
			return;
		}
		
		if(Input.getKeyDown(KeyEvent.VK_S))
		{
			gameObject.transform.position.y += 32f;
			return;
		}
		
		if(Input.getKeyDown(KeyEvent.VK_A))
		{
			gameObject.transform.position.x -= 32f;
			return;
		}
		
		if(Input.getKeyDown(KeyEvent.VK_D))
		{
			gameObject.transform.position.x += 32f;
			return;
		}
	}
	
	public void onCollisionStart(Collider col)
	{
		super.onCollisionStart(col);
		
		if(col.gameObject.tag == "Apple")
		{
			GameObject segment = new GameObject("SnakeSegment", "Snake", new Component[] { new SquareCollider(), new Image("Images/Square.png", 1, Color.green) });
			GameObject.Create(segment, new Vector2(), 0f);
		}
		
		else GameObject.Destroy(gameObject);
	}
}