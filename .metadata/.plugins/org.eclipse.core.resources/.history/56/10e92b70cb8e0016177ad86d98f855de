import java.awt.Color;
import java.awt.event.KeyEvent;
import game.engine.*;

public class Player extends Component
{
	public float speed = 1f;
	private Vector2 velocity;
	
	public void start() 
	{
		gameObject.transform.position = new Vector2(Screen.width - 50, Screen.height - 50);
		gameObject.transform.scale = new Vector2(50f / 32f, 50f / 32f);
	}
	
	public void update()
	{
		super.update();
		velocity = new Vector2();
		
		if(Input.isKeyDown(KeyEvent.VK_B))
		{
			gameObject.getComponent(Image.class).color = Color.black.blue;
		}
		
		if(Input.isKeyDown(KeyEvent.VK_RIGHT))
		{
			velocity.x++;
		}
		
		if(Input.isKeyDown(KeyEvent.VK_LEFT))
		{
			velocity.x--;
		}
		
		if(Input.isKeyDown(KeyEvent.VK_UP))
		{
			velocity.y--;
		}
		
		if(Input.isKeyDown(KeyEvent.VK_DOWN))
		{
			velocity.y++;
		}
		
		velocity.normalize();
		gameObject.transform.position.add(velocity.multiply(speed * Time.deltaTime));
		if(gameObject.transform.position.x < 0f) gameObject.transform.position.x = 0f;
		if(gameObject.transform.position.x > Screen.width - 50) gameObject.transform.position.x = Screen.width - 50;
		if(gameObject.transform.position.y < 0f) gameObject.transform.position.y = 0f;
		if(gameObject.transform.position.y > Screen.height - 50) gameObject.transform.position.y = Screen.height - 50;
	}
	
	public void onGUI()
	{
		GUI.label(new Rect(0, 110, 0, 0), "Position: " + gameObject.transform.position.x + ", " + gameObject.transform.position.y);
		GUI.label(new Rect(0, 130, 0, 0), "Velocity: " + velocity.x + ", " + velocity.y);
	}
}