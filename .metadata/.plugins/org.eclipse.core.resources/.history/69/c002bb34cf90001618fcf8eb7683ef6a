package game.engine;

import javafx.scene.shape.Shape3D;

public class Collider extends Component
{
	private Shape3D shape;
	
	public Collider(Shape3D mesh)
	{
		shape = mesh;
	}
	
	public void start()
	{
		super.start();
		System.out.println("Collider added.");
		transform.getChildren().add(shape);
	}
	
	public void collide()
	{
		for (int i = 0; i < SceneManager.activeScene.gameObjects.size(); i++)
		{
			Collider c;
			
			if ((c = SceneManager.activeScene.gameObjects.get(i).getComponent(Collider.class)) != null)
			{
				if (c.gameObject == gameObject) continue;
				
				if (shape.intersects(c.shape.getBoundsInLocal()))
				{
					System.out.println(gameObject.name + " collided with " + c.gameObject.name);
					System.out.println(gameObject.name + ": " + shape.getTranslateX());
					System.out.println(gameObject.name + ": " + transform.getChildren().get(0).getTranslateX());
					System.out.println(gameObject.name + ": " + transform.getTranslateX());
					System.out.println(c.gameObject.name + ": " + c.transform.getPosition());
				}
			}
		}
	}
}